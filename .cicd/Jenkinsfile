pipeline {
  agent none
  parameters {
    string(name: 'BRANCH', defaultValue: 'develop', description: '')
  }
  
  stages {
    stage('Start Parallelworks Cluster') {
       agent {
        label 'built-in'   
       }
      steps {
        script {
          for (label in pullRequest.labels) {
            if ((label.matches("(.*)-aws"))) {
               println("aws")
            }  
            else if ((label.matches("(.*)-gcp"))) { 
               println("gcp")
            }  
            else if ((label.matches("(.*)-azure"))) {
               println("azure")
            }  
            else { 
            }
          }
        }    
      }
    }
  }
}
